### Upgrade Application for Persistence. docker-compose

to run docker-compose use `cd monitoring && docker compose -f docker-compose.yml up --build` from repository root

## ConfigMap Implementation

- `kubectl get po`

```
NAME                                   READY   STATUS    RESTARTS      AGE
python-app-789ffd4b85-6pr7w            1/1     Running   0             20s
vault-0                                1/1     Running   4 (75m ago)   5d23h
vault-agent-injector-dbfc5cd77-6gzkk   1/1     Running   4 (75m ago)   5d23h
```

- `kubectl exec python-app-789ffd4b85-6pr7w -- cat /config.json`

```
{
    "app_name": "My Web App",
    "environment": "production",
    "key": "value"
}
```

- `kubectl describe configmaps configmap`
```
Name:         configmap
Namespace:    default
Labels:       app.kubernetes.io/managed-by=Helm
Annotations:  meta.helm.sh/release-name: python-app
              meta.helm.sh/release-namespace: default

Data
====
another_key:
----
another_value
config.json:
----
{
    "app_name": "My Web App",
    "environment": "production",
    "key": "value"
}

BinaryData
====

Events:  <none>
```

- `kubectl get po` after improvement ConfigMap via Environment Variables
```
python-app-595986bb69-t2rc8            1/1     Running   0             3m20s
vault-0                                1/1     Running   4 (90m ago)   5d23h
vault-agent-injector-dbfc5cd77-6gzkk   1/1     Running   4 (90m ago)   5d23h
```

- `kubectl exec -it python-app-595986bb69-t2rc8 -- env`

```
PATH=/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
HOSTNAME=python-app-595986bb69-t2rc8
config.json={
    "app_name": "My Web App",
    "environment": "production",
    "key": "value"
}
another_key=another_value
CONFIG_ENV=another_value
SECRET=secret
...
PYTHONPATH=.
HOME=/home/app
```